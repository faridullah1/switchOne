<div class="container">
	<h2 class="mb-3">{{ title }}</h2>

	<div class="tabs" *ngIf="stage !== 'CardDetails'">
		<div class="pointing-right" [ngClass]="['SelectBill', 'SelectMeter'].includes(stage) ? 'selected' : 'non-selected'">
			<div class="pointer">
				{{ getTabTitle() }}
			</div>
		</div>

		<div class="pointing-right" [ngClass]="['BillAmountEntry', 'MeterAmountEntry'].includes(stage) ? 'selected' : 'non-selected'" [ngClass]="stage === 'BillAmountEntry' ? 'selected' : 'non-selected'">
			<div class="pointer">Amount</div>
		</div>

		<div class="pointing-left gray-left pointing-right" [ngClass]="stage === 'ConfirmPay' ? 'selected' : 'non-selected'">
			<div class="pointer">Confirm</div>
		</div>

		<div class="disabled pointing-left gray-left" [class.selected]="stage === 'Result'">
			<div class="pointer">Result</div>
		</div>
	</div>

	<ng-container *ngIf="stage === 'SelectBill'">
		<ng-container *ngIf="data.length > 0; else noBills">
			<div class="bill" *ngFor="let bill of data" (click)="onSelectBill(bill)">
				<div class="reference-number">{{ bill.referenceNumber}}</div>
				<div>{{ bill.alias}}</div>
			</div>
	
			<div class="actions">
				<button class="btn" (click)="onAddBill()">Add Bill</button>
			</div>
		</ng-container>

		<ng-template #noBills>
			<div class="no-bill">No bills added</div>
			<div class="actions">
				<button class="btn" (click)="onAddBill()">Add Bill</button>
			</div>
		</ng-template>
	</ng-container>

	<ng-container *ngIf="stage === 'BillAmountEntry'">
		<input class="field" type="text" placeholder="Ener Amount">

		<div class="actions">
			<button class="btn" routerLink="/payment_method">Continue</button>
		</div>
	</ng-container>

	<ng-container *ngIf="stage === 'SelectMeter'">
		<ng-container *ngIf="data.length > 0; else noMeter">
			<div class="bill" *ngFor="let meter of data" (click)="onSelectMeter(meter)">
				<div class="reference-number">{{ meter.meterSerial}}</div>
				<div>{{ meter.alias}}</div>
			</div>
	
			<div class="actions">
				<button class="btn" (click)="onAddMeter()">Add Meter</button>
			</div>
		</ng-container>

		<ng-template #noMeter>
			<div class="no-bill">No meter added</div>
			<button class="btn" (click)="onAddMeter()">Add Meter</button>
		</ng-template>
	</ng-container>

	<ng-container *ngIf="stage === 'MeterAmountEntry'">
		<div class="meter-payment">
			<div class="flex">
				<div class="meter-info">
					<div class="heading">Current Transaction</div>
					<input class="field" type="text" placeholder="Enter Amount (R)">
				</div>

				<div class="amount-pick">
					R100
				</div>
			</div>
	
			<div class="flex">
				<button class="btn mr-3">Back</button>
				<button class="btn" (click)="onConfirm()">Confirm</button>
			</div>
		</div>
	</ng-container>

	<ng-container *ngIf="stage === 'ConfirmPay'">
		<div class="meter-payment">
			<div class="meter-info">
				<div class="heading">Current Transaction</div>
				<input class="field" type="text" placeholder="Enter Amount (R)">
			</div>
	
			<div class="flex">
				<button class="btn mr-3">Back</button>
				<button class="btn" (click)="onPayment()">Pay</button>
			</div>
		</div>
	</ng-container>

	<ng-container *ngIf="stage === 'CardDetails'">
		<div class="card-details">
			<input class="field mb-3" type="text" placeholder="Card Number">
			<input class="field mb-3" type="text" placeholder="Card Holder">
			<input class="field mb-3" type="text" placeholder="CVC Number">
	
			<div class="flex">
				<button class="btn mr-3">Back</button>
				<button class="btn" (click)="onPayment()">Continue</button>
			</div>
		</div>
	</ng-container>
</div>